<!DOCTYPE html>
<html>
	<head>
		<title>Dios</title>

		<link rel="stylesheet" href="css/bootstrap.min.css">
		<link rel="stylesheet" href="css/style.css">

		<link rel="stylesheet" href="css/bootstrap-theme.min.css">
		
		<!--Google Fonts-->
		<link href='https://fonts.googleapis.com/css?family=Indie+Flower' rel='stylesheet' type='text/css'>
		 <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Tangerine">


	</head>
		<body>
			
			<div class="row">
		
				<div class="col-md-3 col-sm-3 col-xs-12">
		
					<img id="ojo" src="images/ojo.png">
						<img id="logo" src="images/ojoquetodonove.png"></img>
					</img>
		
				</div>
		
				<div class="col-md-9 col-sm-9 col-xs-12">
				</div>
		
			</div>

			<div class="col-md-6 col-sm-6 col-xs-12" id="container">

			</div>
			
			<script src="/socket.io/socket.io.js"></script>
		    <script src="/js/jquery.min.js"></script>
		    <script src="/js/bootstrap.min.js"></script>
			
		</body>

<script>

	var socket = io.connect()
	
	//evento de conexi√≥n de socket.io
	socket.on('connect', function () {
      console.log('connected')
    })
    
    //contador de mensajes para asignar ids
    var prayCount = 0

	//evento de socket.io
	socket.on('pray', function(responseArray) {
		
		console.log('pray received from server')
		
		//container en blanco
		var prayContainer = "<div class='pray' id='pray-" + prayCount + "'><p class='prayerName' id='prayerName-" + prayCount + "'></p><p class='prayerText' id='prayerText-" + prayCount + "'></p> <p class='godText'>Respuesta: <span class='godResponse' id='godResponse-" + prayCount + "'></span></p></div>"
		
		//valores recibidos
		var prayerName = responseArray[0].from.first_name
		var prayerText = responseArray[0].text
		var godResponse = responseArray[1]
		
		//agrego container
		$('#container').append(prayContainer)
		
		//valor de rotacion
		var randomRotate = Math.floor(Math.random()*10) - 5;
			
		$("#pray-" + prayCount).css("transform","rotate("+ randomRotate +"deg)")
		
		//relleno de mensaje
		$('#prayerName-' + prayCount).text(prayerName)
		$('#prayerText-' + prayCount).text(prayerText)
		$('#prayerName-' + prayCount).text(prayerName)
		$('#godResponse-' + prayCount).text(godResponse)
		
		prayCount = prayCount + 1 
	})

</script>
</html>





